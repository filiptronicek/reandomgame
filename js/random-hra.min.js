if(console.log(localStorage.mute),null!==highscore)var highscore=localStorage.getItem("highscore");else localStorage.setItem("highscore",0);$(document).on("keyup",function(a){a.preventDefault(),9==a.which&&(modal.style.display="none")}),$(document).on("keydown",function(a){a.preventDefault(),116==a.which&&(location.href="index.html")});var modal=document.getElementById("myModal"),svg=$("#nextround");svg.hide();var overTxt,rndDir,rndDirSec,gmfld=$("#gamefield"),gameover=document.getElementById("gameover"),stop=!0,logoCode="<img src='assets/img/logo.png' width='100%' height='100%'>",rndbodHeight=parseInt($("#rndbod").height())/2,playgroundHeight=parseInt($("#playground").css("height")),playgroundWidth=parseInt($("#playground").css("width")),gameTime=60,rychlost=10,rychlostEnemy=6,enemyCountDown=0,enemyCountDownSec=0;if("true"!==localStorage.mute)var gameoversound=new Audio("./assets/sounds/Game over.flac"),point=new Audio("./assets/sounds/Laser_Gun.wav");else var gameoversound=new Audio,point=new Audio;$(document).on("keydown",function(a){a.preventDefault(),9==a.which&&(modal.style.display="block")}),$(document).ready(function(){var a=Math.floor,b=Math.abs;function c(a,b,c){return new Promise(d=>{var e=setInterval(()=>{a--,document.getElementById(b).value=a,document.getElementById(c).textContent=a,0>=a&&(clearInterval(e),d(!0))},1e3)})}function d(){(i.pressedKeys[h.UP]||i.pressedKeys[h.DOWN]||i.pressedKeys[h.LEFT]||i.pressedKeys[h.RIGHT])&&stop&&(c(gameTime,"pageBeginCountdown","pageBeginCountdownText").then(()=>j()),stop=!1),f(),e(),g()}function e(){if(i.pressedKeys[h.UP]){var a=parseInt($("#hrac").css("top"));0<a&&$("#hrac").css("top",a-rychlost)}if(i.pressedKeys[h.DOWN]){var a=parseInt($("#hrac").css("top")),b=parseInt($("#playground").css("height")),c=parseInt($(".hrac").css("height"));a+c<b&&$("#hrac").css("top",a+rychlost)}if(i.pressedKeys[h.LEFT]){var d=parseInt($("#hrac").css("left"));0<d&&$("#hrac").css("left",d-rychlost)}if(i.pressedKeys[h.RIGHT]){var d=parseInt($("#hrac").css("left")),e=parseInt($("#playground").css("width")),c=parseInt($(".hrac").css("height"));d+c<e&&$("#hrac").css("left",d+rychlost)}}function f(){var c=parseInt($("#rndbod").height())/2,d=parseInt($("#rndbod").css("left")),e=parseInt($("#rndbod").css("top")),f=parseInt($("#rndbodsec").height())/2,g=parseInt($("#rndbodsec").css("left")),h=parseInt($("#rndbodsec").css("top")),j=parseInt($("#hrac").height())/2,k=parseInt($("#hrac").css("left")),l=parseInt($("#hrac").css("top")),m=parseInt($("#playground").css("height")),n=parseInt($("#playground").css("width"));b(k+j-(d+c))<=c+j&&b(l+j-(e+c))<=c+j&&(i.score++,document.getElementById("modaltext").innerHTML="Your score: "+i.score+"<br /> Your highscore: "+highscore,"true"!==localStorage.mute&&point.play(),$("#score").html(i.score),$("#rndbod").css("left",a(Math.random()*(n-2*c))),$("#rndbod").css("top",a(Math.random()*(m-2*c)))),b(k+j-(g+f))<=f+j&&b(l+j-(h+f))<=f+j&&(i.score++,document.getElementById("modaltext").innerHTML="Your score: "+i.score+"<br /> Your highscore: "+highscore,"true"!==localStorage.mute&&point.play(),$("#score").html(i.score),$("#rndbodsec").css("left",a(Math.random()*(n-2*c))),$("#rndbodsec").css("top",a(Math.random()*(m-2*c))))}function g(){var a=parseInt($("#enemysecond").height())/2,c=parseInt($("#enemysecond").css("left")),d=parseInt($("#enemysecond").css("top")),e=parseInt($("#enemy").height())/2,f=parseInt($("#enemy").css("left")),g=parseInt($("#enemy").css("top")),h=parseInt($("#hrac").height())/2,i=parseInt($("#hrac").css("left")),k=parseInt($("#hrac").css("top"));if(b(i+h-(c+a))<=a+h&&b(k+h-(d+a))<=a+h&&j(),b(i+h-(f+e))<=e+h&&b(k+h-(g+e))<=e+h&&j(),1>enemyCountDown&&(enemyCountDown=1e3*(Math.random()*Math.random()),rndDir=Math.random()),enemyCountDown--,0<=rndDir&&.25>rndDir){var l=parseInt($("#enemy").css("top"));0<l?$("#enemy").css("top",l-rychlostEnemy):(rndDir=.25,enemyCountDown=100)}if(.25<=rndDir&&.5>rndDir){var l=parseInt($("#enemy").css("top")),m=parseInt($("#playground").css("height")),n=parseInt($(".enemy").css("height"));l+n<m?$("#enemy").css("top",l+rychlostEnemy):(rndDir=0,enemyCountDown=100)}if(.5<=rndDir&&.75>rndDir){var o=parseInt($("#enemy").css("left"));0<o?$("#enemy").css("left",o-rychlostEnemy):(rndDir=.75,enemyCountDown=100)}if(.75<=rndDir&&1>=rndDir){var o=parseInt($("#enemy").css("left")),p=parseInt($("#playground").css("width")),n=parseInt($(".enemy").css("height"));o+n<p?$("#enemy").css("left",o+rychlostEnemy):(rndDir=.5,enemyCountDown=100)}if(1>enemyCountDownSec&&(enemyCountDownSec=1e3*(Math.random()*Math.random()),rndDirSec=Math.random()),enemyCountDownSec--,0<=rndDirSec&&.25>rndDirSec){var l=parseInt($("#enemysecond").css("top"));0<l?$("#enemysecond").css("top",l-rychlostEnemy):(rndDirSec=.25,enemyCountDownSec=100)}if(.25<=rndDirSec&&.5>rndDirSec){var l=parseInt($("#enemysecond").css("top")),m=parseInt($("#playground").css("height")),n=parseInt($(".enemysecond").css("height"));l+n<m?$("#enemysecond").css("top",l+rychlostEnemy):(rndDirSec=0,enemyCountDownSec=100)}if(.5<=rndDirSec&&.75>rndDirSec){var o=parseInt($("#enemysecond").css("left"));0<o?$("#enemysecond").css("left",o-rychlostEnemy):(rndDirSec=.75,enemyCountDownSec=100)}if(.75<=rndDirSec&&1>=rndDirSec){var o=parseInt($("#enemysecond").css("left")),p=parseInt($("#playground").css("width")),n=parseInt($(".enemysecond").css("height"));o+n<p?$("#enemysecond").css("left",o+rychlostEnemy):(rndDirSec=.5,enemyCountDownSec=100)}}$("#rndbod").css("left",a(Math.random()*(playgroundWidth-2*rndbodHeight))),$("#rndbod").css("top",a(Math.random()*(playgroundHeight-2*rndbodHeight))),$("#rndbodsec").css("left",a(Math.random()*(playgroundWidth-2*rndbodHeight))),$("#rndbodsec").css("top",a(Math.random()*(playgroundHeight-2*rndbodHeight)));var h={LEFT:37,UP:38,RIGHT:39,DOWN:40},i={score:0};i.pressedKeys=[],f(),$(function(){i.timer=setInterval(d,30),$(document).keydown(function(a){i.pressedKeys[a.which]=!0}),$(document).keyup(function(a){i.pressedKeys[a.which]=!1})});var j=function(){var a=!1;return function(){if(!a){if(a=!0,overTxt="<h1> Game OVER </h1><br /> <p id='gmvrmsg'> In this round you got "+i.score+" points.",35>i.score&&5<i.score)var b=logoCode+overTxt+"That's not bad, but it can be better.";else if(35<i.score)var b=logoCode+overTxt+"Very good result. Congratulations. ";else if(6>i.score&&1!=i.score)var b=logoCode+overTxt+" Dude, what were you doing?! ";else if(1==i.score)var b=logoCode+"<h1> Game OVER </h1><br /> <p id='gmvrmsg'> In this round you got just "+i.score+" point. Dude, what were you doing?! ";svg.show(),gmfld.hide(),gameover.innerHTML+=b,rychlost=0,rychlostEnemy=0,stop=!0,"true"!==localStorage.mute&&gameoversound.play(),console.log("Game Over");var c=i.score;null===highscore?localStorage.setItem("highscore",c):c>highscore&&(localStorage.setItem("highscore",c),alert("You have a new highscore: "+c+" your previous highscore was: "+highscore))}}}()}),initTheme();function initTheme(){var a=null!==localStorage.getItem("themeSwitch")&&"dark"===localStorage.getItem("themeSwitch");a?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}